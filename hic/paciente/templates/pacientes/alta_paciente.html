{% extends 'base.html' %}
{% load staticfiles %}
{% load crispy_forms_tags %}
{% block custom_style %}
    <style>
        .form-flex, .form-flex-sm {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        .form-flex > div {
            flex: 0 1 30%;
            margin: 5px;
        }

        .form-flex-sm > div {
            flex: 0 1 10%;
            margin: 5px;
        }
    </style>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.css">
{% endblock %}
{% block container %}
    <div class="row">
        <div class="col">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Nuevo Paciente</h6>
                </div>
                <div class="card-body">
                    <form action="" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="id_nombre">Nombre</label>
                                    {{ paciente_form.nombre }}
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="id_primer_apellido">Primer Apellido</label>
                                    {{ paciente_form.primer_apellido }}
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="id_segundo_apellido">Segundo Apellido</label>
                                    {{ paciente_form.segundo_apellido }}
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="id_fecha">Fecha de Nacimiento</label>
                                    {{ paciente_form.fecha_nacimiento }}
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="id_genero">Género</label>
                                    {{ paciente_form.genero }}
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="id_telefono">Teléfono</label>
                                    {{ paciente_form.telefono }}
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="id_email">Email</label>
                                    {{ paciente_form.email }}
                                    <input type="hidden" name="id_estado" id="id_estado" value="ACTIVO">
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="id_email">Dirección</label>
                                    {{ paciente_form.direccion}}
                                </div>
                            </div>
                        </div>
                        <div class="row flex-column">
                            {% crispy historia_clinica_form historia_clinica_form.helper %}
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block custom_js %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js"></script>
    <script>
        $(function () {
            $('input,select').addClass('form-control')
            $('#id_fecha_nacimiento').datetimepicker({
                format: 'Y-m-d',
                step: 30
            });
        })

    </script>
{% endblock %}